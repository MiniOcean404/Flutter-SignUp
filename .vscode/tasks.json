{
  "version": "2.0.0",
  "tasks": [
    // 启动dart 跨域代理，用于laumch.json调试
    {
      "label": "start proxy",
      "type": "shell",
      "command": "dart",
      "args": ["${workspaceFolder}/script/proxy_server.dart"],
      "isBackground": true,
      "problemMatcher": []
    },

    // 多任务命令
    {
      "label": "添加文件并推送多个仓库",
      "type": "shell",
      "dependsOn": [
        "git-add.",
        "git-commit-am",
        "git-push-github",
        "git-push-origin"
      ],
      "dependsOrder": "sequence",
      "problemMatcher": []
    },

    // 单任务命令
    {
      "label": "git-add.",
      "type": "shell",
      "command": "git",
      "args": ["add", "."],
      "problemMatcher": []
    },
    {
      "label": "git-commit-am",
      "type": "shell",
      "command": "git",
      "args": ["commit", "-am", "${input:commit-info}"],
      "problemMatcher": []
    },
    {
      "label": "git-push-github",
      "type": "shell",
      "command": "git",
      "args": ["push", "github", "${input:branchName}"],
      "problemMatcher": []
    },
    {
      "label": "git-push-origin",
      "type": "shell",
      "command": "git",
      "args": ["push", "origin"],
      "problemMatcher": []
    },
    {
      "label": "git-push",
      "type": "shell",
      "command": "git",
      "args": ["push", "origin", "${input:branchName}"],
      "problemMatcher": []
    }
  ],

  // 行为类型
  "inputs": [
    {
      "id": "commit-info",
      "type": "promptString",
      "description": "输入提交信息",
      "default": "请填写提交信息"
    },
    {
      "id": "branchName",
      "type": "pickString",
      "options": ["master", "dev", "feature/api"],
      "description": "请选择分支"
    },
    {
      "id": "branch",
      "type": "pickString",
      "options": ["dev", "release"],
      "description": "请输入分支"
    }
  ]
}
